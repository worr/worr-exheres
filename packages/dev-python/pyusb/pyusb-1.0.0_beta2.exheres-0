# Copyright 2012 William Orr <will@worrbase.com>
# Distributed under the terms of the GNU General Public License v2

MY_PV="1.0.0b2"
MY_PNV="${PN}-${MY_PV}"

require setuptools pypi

SUMMARY="Python USB Access Module"
DESCRIPTION="
PyUSB offers easy USB devices communication in Python. It should work without
additional code in any environment with Python >= 2.4, ctypes and an pre-built
usb backend library (currently, libusb 0.1.x, libusb 1.x, and OpenUSB).
"

HOMEPAGE="http://walac.github.io/pyusb/"
DOWNLOADS="http://pypi.python.org/packages/source/${PN:0:1}/${PN}/${MY_PNV}.tar.gz"

LICENCES="BSD-3"
SLOT="0"
PLATFORMS="~amd64"

WORK="${WORKBASE}/${MY_PNV}"

DEPENDENCIES="
    build+run:
        dev-libs/libusb
"

BUGS_TO="will@worrbase.com"

src_test() {
    cd "${WORK}/tests"
    PYTHONPATH=$(ls -d ${WORK}/build/lib*) edo ${PYTHON} testall.py
}

